# communication.xml file used by the mdek
communication.properties=${webapp.root}/WEB-INF/classes/communication.xml

communication.server.name=/ingrid-group:ige-ibus
communication.server.port=11000
#communication.server.timeout=10
#communication.server.maxMsgSize=3145728
#communication.server.threadCount=100
#communication.server.msgTimeout=30
#communication.server.queueSize=2000

installation.standalone=false

# codelist repository
# codelist.requestUrl=https://dev.informationgrid.eu/codelist-repo/rest/getCodelists
codelist.requestUrl=
codelist.username=
codelist.password=

# -- Expired datasets --

# Inform user about expired entities 
# specifies the number of days before expiration when the notification email should be sent
workflow.notifyDaysBeforeExpiry=14
# Specifies whether the user is informed every time the expiration period is exceeded
# false: the user only gets one expired-email the first time the expiration period is reached
# true: every time the expiration period is exceeded again and the entity is still expired the user gets another email
workflow.repeatExpiryCheck=false
# Number of milliseconds the job for checking expired datasets waits until executed again
# Default is every 10 minutes (600000)
workflow.expiryJob.repeatInterval=600000

# -- Mail settings --

# smtp server used for sending mails
#workflow.mail.smtp=gotthard.wemove.lan
workflow.mail.smtp=localhost
workflow.mail.smtp.user=
workflow.mail.smtp.password=
workflow.mail.smtp.port=
workflow.mail.smtp.ssl=false
workflow.mail.smtp.protocol=smtp

# sender email address
workflow.mail.sender=test@wemove.de

# receiver email address
# NOTE: This parameter should only be used if you want to override the default behaviour (emails sent to
#       admin, responsible user, etc.)
#       If a receiver email is specified, it's the only address mails will be sent to
#workflow.mail.receiver=ingrid-test@wemove.com

# Maximum number of addresses included in each mail
workflow.mail.numAddressesMax=1000

# Maximum number of objects included in each mail
workflow.mail.numObjectsMax=1000

# Direct link to the mdek application. Used to link to objects / addresses
#mdek.directLink=http://localhost:8080/ingrid-portal-mdek-application/index.jsp
#mdek.directLink=http://harrison.its-technidata.de/ingrid-portal-mdek-application/index.jsp
mdek.directLink=http://localhost:8080/ingrid-portal-mdek-application/index.jsp

# -- Upload settings --

# Storage implementation class
upload.impl=de.ingrid.mdek.upload.storage.impl.FileSystemStorage

# Base directory for uploaded documents
upload.docsdir=/tmp/ingrid/upload/documents/

# Directory for partial uploads
upload.partsdir=/tmp/ingrid/upload/parts/

# List of activated validators (comma separated list of validator names)
# NOTE: Each validator name must have an entry in the upload.validators.config property 
upload.validators=filename,virusscan

# Validator definitions (json encoded)
# NOTE: Each validator definition must have the following properties:
#       - impl: Fully qualified class name of a de.ingrid.mdek.upload.storage.validate.Validator implementation
#       - properties: Map of initialization properties which will be used as parameter when calling the Validator.initialize() method
upload.validators.config={\
    "filename":{\
        "impl":"de.ingrid.mdek.upload.storage.impl.FileSystemStorage$NameValidator",\
        "properties":{\
        }\
    },\
    "virusscan":{\
        "impl":"de.ingrid.mdek.upload.storage.validate.impl.VirusScanValidator",\
        "properties":{\
            "command":"\\\\path\\\\to\\\\sophos\\\\savscan -f -archive %FILE%",\
            "infectedPattern":"(?m)^1 file out of 1 was infected.$",\
            "cleanPattern":"(?m)^No viruses were discovered.$"\
        }\
    }\
}

# Schedule for background cleanup job (quartz cron pattern), default: every day at 1 am
upload.cleanup.schedule=0 0 1 * * ? *

# Minimum age of an unreferenced file to be deleted by the background cleanup job (seconds), default: 2 hours
upload.cleanup.file.minAge=7200

# Schedule for background virus scan job (quartz cron pattern), default: every day at 2 am
upload.virusscan.schedule=0 0 2 * * ? *

# Directory for quarantined infected uploads
upload.virusscan.quarantinedir=/tmp/ingrid/upload/quarantine/
