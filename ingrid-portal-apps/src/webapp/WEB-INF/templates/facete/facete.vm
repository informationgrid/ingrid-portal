#set ($action = $renderResponse.createActionURL())
#macro (renderInputButtonDialog $buttonvalue $buttonstyle $buttonname $buttontitle $buttonclass $buttononclick)
	<div class="$buttonclass" style="$buttonstyle">
		<div class="btn_left" id="$buttonname left"></div>
		<div class="btn_center">
			#if($buttondisable && $buttondisable == "true")
				<input type="submit" value="$buttonvalue" name="$buttonname" title="$buttontitle" class="btn_disable" onclick="$buttononclick" disabled />
			#else
				<input type="submit" value="$buttonvalue" name="$buttonname" title="$buttontitle" class="btn" onclick="$buttononclick" />
			#end
		</div>
		<div class="btn_right" id="$buttonname right"></div>
	</div>
#end

#macro (renderInputButtonDialogCancel $buttonvalue $buttonstyle $buttonname $buttontitle $buttonclass $buttononclick)
	<div class="$buttonclass" style="$buttonstyle">
		<div class="btn_gray_left" id="$buttonname left"></div>
		<div class="btn_gray_center">
			#if($buttondisable && $buttondisable == "true")
				<input type="submit" value="$buttonvalue" name="$buttonname" title="$buttontitle" class="btn_gray_disable" onclick="$buttononclick" disabled />
			#else
				<input type="submit" value="$buttonvalue" name="$buttonname" title="$buttontitle" class="btn_gray" onclick="$buttononclick" />
			#end
		</div>
		<div class="btn_gray_right" id="$buttonname right"></div>
	</div>
#end
#macro (renderButtonDialogCancelNotInput $buttonvalue $buttonstyle $buttonname $buttontitle $buttonclass $buttononclick)
	<div class="$buttonclass" style="$buttonstyle">
		<div class="btn_gray_left" id="$buttonname left"></div>
		<div class="btn_gray_center">
			#if($buttondisable && $buttondisable == "true")
			<input type="button" value="$buttonvalue" name="$buttonname" title="$buttontitle" class="btn_gray_disable" onclick="$buttononclick" disabled />	
			#else
			<input type="button" value="$buttonvalue" name="$buttonname" title="$buttontitle" class="btn_gray" onclick="$buttononclick" />
			#end
		</div>
		<div class="btn_gray_right" id="$buttonname right"></div>
	</div>
#end
#macro (renderFaceteMoreLinkLineDialog $label $style $id $button)
	<a id="$button" class="facete_more" style="$style" onClick="prepareDialog('$id')">$label</a>
	<img id="facete_img" class="facete_open" src="/ingrid-portal-apps/images/facete/facete_more.png">
#end

#macro (renderFaceteDeleteMoreLinkLineDialog $label $doAction)
	<a href="$doAction" class="facete_link_line facete_delete_link">$label</a>
#end

#macro (renderFaceteDeleteLinkLineDialog $label $doAction)
	<div>
		#renderFaceteDeleteMoreLinkLineDialog ($label $doAction)
	</div>
#end

#macro (renderFaceteSelectedAttribute $doAction $title)
	<div>
		<a href="$doAction" class="facete_link_line facete_select_link">$title</a>
		#if($doAction)
			#renderDeleteIcon ($doAction $MESSAGES.getString("searchResult.facete.category.delete.btn"))
		#end
    </div>
#end

#macro (renderFaceteSelectedAttributeNumber $doAction $title $number $isDelete)
	<div>
		<span>
			<a href="$doAction"  
        		#if($isDelete)
        			class="facete_link_line facete_select_link"
				#else
					class="facete_link_line"
        		#end
        		>$title</a>
			#if($number)
				#renderLinkEntryNumber("$number")
			#end
        </span>
		#if($isDelete)
			#if($doAction)
				#renderDeleteIcon ($doAction $MESSAGES.getString("searchResult.facete.category.delete.btn"))
			#end
		#end
    </div>
#end

#macro(renderLinkEntryNumberInArrayHashMap $numbers $id)
	<span class="facete_label_number">
    #foreach($number in $numbers)
		#foreach($key in $number.keySet())
			#if($key == "$id")
				($number.get($key))
			#end
		#end
	#end
	</span>
#end
#macro(renderCloseDialog $doAction $title)
	<div class="closeDialog">
		<a href="$doAction" class="facete_link_line">
			<img class="facete_delete_img" src="/ingrid-portal-apps/images/facete/facete_close_dialog.png" title="$title"></img>
        </a>
	</div>
#end

#macro(renderLinkEntryNumberInHashMap $numbers $id)
	<span class="facete_label_number">
   	#foreach($key in $numbers.keySet())
		#if($key == "$id")
			($numbers.get($key))
		#end
	#end
	</span>
#end

#macro(renderLinkEntryNumber $number)
	<span class="facete_label_number">
       	#if($number != "")
    			($number)
    	#else
    		(0)
		#end
	</span>
#end

#macro(renderDeleteIcon $doAction $title)
	<a href="$doAction" class="facete_link_line">
		<img class="facete_delete_img" src="/ingrid-portal-apps/images/facete/facete_delete.png" title="$title"></img>
	</a>
#end

<div>
	#if($ds && $ds == "2")
		<a class="facete_open_node" onclick="openFaceteNode('facete', 'search_facete_address', 'search_hits_address')">
	#else
		<a class="facete_open_node" onclick="openFaceteNode('facete', 'search_facete', 'search_hits')">
	#end
		<img id="facete_img" class="facete_open" src="/ingrid-portal-apps/images/facete/facete_open.png" >
	</a>
	<div id="facete">
		<h2>$MESSAGES.getString("searchResult.facete.title")</h2>
		
		
## ERGEBNISTYPEN ##
	#set ($rankedHitslenght = $rankedResultList.get("length").toString())
	
	#if($rankedHitslenght != "0")
		#if(!$ds || $ds == "1")
        	<div class="cat_label">
        		<img id="hit_types_img" class="facete_open" src="/ingrid-portal-apps/images/facete/facete_cat_open.png" onclick="openNode('hit_types')">
        		<a onclick="openNode('hit_types')" >$MESSAGES.getString("searchResult.facete.title.types")</a>
        		<br>
        	</div>
        	
        	<div id="hit_types" class="cat_content">
        ## DATENTYPEN ##
        		#parse ('/WEB-INF/templates/facete/facete_datatype.vm')
        	</div>
		#end
		
		#set($isMetadata = false)
		#foreach($datatype in $selectedDatatype)
			#if($datatype == "metadata")
				#set($isMetadata = true)
			#end
		#end
		#if($isMetadata)
    		## ZEITBEZUG ##
            #if(!$ds || $ds == "1")
            	#parse ('/WEB-INF/templates/facete/facete_time.vm')
			#end
		#end
		
        ## PARTNER ##
        #if(!$ds || $ds == "1" || $ds == "2" || $ds == "4")
        	#if($enableFacetePartnerList && $enableFacetePartnerList.size() > 0)
        		#parse ('/WEB-INF/templates/facete/facete_partner.vm')
        	#end
        #end
        	
        ## RAUMBEZUG ##
        #if(!$ds || $ds == "1")
        	#parse ('/WEB-INF/templates/facete/facete_area.vm')
        #end
        
        ## SCHLAGWORTE ##
        #if(!$ds || $ds == "1" || $ds == "2" || $ds == "3" || $ds == "4")
        	#parse ('/WEB-INF/templates/facete/facete_thesaurus.vm')
        #end
        
        ## ATTRIBUTE ##
        #if($ds && $ds == "3")
        	#parse ('/WEB-INF/templates/facete/facete_attribute.vm')
        #end
        
        ## RAUMBEZUG - ADDRESSEN ##
        #if($ds &&  $ds == "2")
        	#parse ('/WEB-INF/templates/facete/facete_area_address.vm')
		#end
	#else
		<p>
			#if($isMetaclassSelect || $isMeasuresSelect || $isTopicSelect  || $isDatatypeSelect  || $isAreaAddressSelect || $isAttributeSelect || $isGeothesaurusSelect || $isServiceSelect || $isProviderSelect || $isMapSelect || $isThesaurusSelect || $isTimeSelect)
				$MESSAGES.getString("searchResult.facete.category.error")
			#else
				$MESSAGES.getString("searchResult.facete.category.no.hits")	
			#end
			
        </p>
			#if($isMetaclassSelect || $isMeasuresSelect || $isTopicSelect  || $isDatatypeSelect  || $isAreaAddressSelect || $isAttributeSelect || $isGeothesaurusSelect || $isServiceSelect || $isProviderSelect || $isMapSelect || $isThesaurusSelect || $isTimeSelect)
        		$action.setParameter("doRemoveAll", "true")
        		#renderFaceteDeleteLinkLineDialog($MESSAGES.getString("searchResult.facete.category.delete.all") $action)
			#end
		<br>
	#end
	</div>
</div>