<project default="java:jar"
         xmlns:j="jelly:core" 
         xmlns:define="jelly:define">

 
  <!-- ================================================================ -->
  <!-- Hot Deploy for mundane everyday development under Catalina       -->
  <!-- ================================================================ -->
  <goal name="hotdeploy">
    <echo message="Hot Deploying ${org.apache.jetspeed.portlet.app.name} to ${org.apache.jetspeed.deploy.war.dir}"/>
    <copy todir="${org.apache.jetspeed.deploy.war.dir}/${org.apache.jetspeed.portlet.app.name}/WEB-INF/classes">
        <fileset dir="${maven.build.dir}/classes">
        </fileset>
    </copy>
    <copy todir="${org.apache.jetspeed.deploy.war.dir}/${org.apache.jetspeed.portlet.app.name}/">
      <fileset dir="./src/webapp">
      </fileset>
    </copy>
  </goal>

  <preGoal name="hotdeploy">
   <attainGoal name= "java:compile"/> 
  </preGoal>

  <preGoal name="hotdeploywar">
   <attainGoal name= "war"/>
  </preGoal>

  <goal name="hotdeploywar">
    <echo message="Hot Deploying war for ${org.apache.jetspeed.portlet.app.name} to ${org.apache.jetspeed.deploy.war.dir}/jetspeed/WEB-INF/deploy"/>

    <copy todir="${org.apache.jetspeed.deploy.war.dir}/jetspeed/WEB-INF/deploy" 
		file="${maven.build.dir}/${maven.war.final.name}">
      
    </copy>
  </goal>

</project>