#* Adds ingrid javascript *#
#macro (decoratorIncludeJavaScriptForHead)
  <script language="JavaScript" src="decorations/layout/ingrid/scripts/ingrid.js" type="text/javascript"></script>
#end

#* define navigation constants *#
#macro (defineNavigationConstants)
  #* Constants for layout orientation *#	
  #set($LEFT_TO_RIGHT = "LeftToRight")
  #set($RIGHT_TO_LEFT = "RightToLeft")
  #set($TOP_TO_BOTTOM = "TopToBottom")
  #set($BOTTOM_TO_TOP = "BottomToTop")
  #set($TITLE_FIRST = "TitleFirst")
  #set($TITLE_LAST = "TitleLast")
  #set($BREADCRUMBS_STYLE = "BreadcrumbsStyle")
#end


#* include identity component *#
#macro (includeIdentityArea)
  #set($currentPage = $site.getPage().url)
  #if($currentPage == "/default-page.psml")
<div id="identity" class="motiv_start">
  #elseif($currentPage == "/main-about.psml")
<div id="identity" class="motiv_start">
  #elseif($currentPage == "/main-chronicle.psml")
<div id="identity" class="motiv_umweltchronik">
  #elseif($currentPage == "/main-environment.psml")
<div id="identity" class="motiv_umweltthemen">
  #elseif($currentPage == "/main-maps.psml")
<div id="identity" class="motiv_karten">
  #elseif($currentPage == "/main-measures.psml")
<div id="identity" class="motiv_messwerte">
  #elseif($currentPage == "/main-search.psml")
<div id="identity" class="motiv_suche">
  #elseif($currentPage == "/main-service.psml")
<div id="identity" class="motiv_service">
  #elseif($currentPage == "/service-contact.psml")
<div id="identity" class="motiv_topnavi">
  #elseif($currentPage == "/service-help.psml")
<div id="identity" class="motiv_hilfe">
  #elseif($currentPage == "/service-login.psml")
<div id="identity" class="motiv_topnavi">
  #else
<div id="identity" class="motiv_blank">
  #end

  <!-- LOGO -->
  <div id="logo">
    <a href="$jetspeed.getAbsoluteUrl('/default-page.psml')"><img src="#GetPageResource('images/logo.gif')" width="168" height="60" alt="Logo PortalU" /></a>
  </div>
  
  <!-- SERVICE-NAVIGATION -->
  <div id="servicenav"><a name="servicenav"></a>
      <h2 class="hide">Servicemenu</h2>
      <ul>
#set($serviceMenu = $site.getMenu("service-menu"))
#if(!$serviceMenu.empty)
  #includeServiceNavigation($serviceMenu)
#end
      </ul>
  </div>
</div>
#end

#* include main navigation component *#
#macro (includeMainNavigation $_menu)
    #set($currentPage = $site.getPage().url)
	#foreach($element in $_menu.elements.iterator())
      #if($element.elementType == "option")
        #set($tabTitle = $element.getTitle($preferedLocale))
        #set($tabName = $element.getShortTitle($preferedLocale))
        #set($tabUrl = $jetspeed.getAbsoluteUrl($element.url))
        #if($element.isSelected($site))
          <li><a href="$tabUrl" title="$tabTitle" class="selected">$tabName</a></li>
		#elseif($element.url=="/main-maps.psml")
          <li><a href="$tabUrl" title="$tabTitle" target="_new">$tabName</a></li>
		#elseif($element.url=="/main-search.psml")
			#if($currentPage == "/search-settings.psml")
				<li><a href="$tabUrl" title="$tabTitle" class="selected">$tabName</a></li>
			#elseif($currentPage == "/search-history.psml")
				<li><a href="$tabUrl" title="$tabTitle" class="selected">$tabName</a></li>
			#elseif($currentPage.indexOf('search-ext-') != -1)
				<li><a href="$tabUrl" title="$tabTitle" class="selected">$tabName</a></li>
			#else
				<li><a href="$tabUrl" title="$tabTitle">$tabName</a></li>
			#end
		#else
          <li><a href="$tabUrl" title="$tabTitle">$tabName</a></li>
        #end
      #end
    #end
#end

#* include sub navigation component *#
#macro (includeSubNavigation $_menu)
    <ul>
	#foreach($element in $_menu.elements.iterator())
      #if($element.elementType == "option")
        #set($linkTitle = $element.getTitle($preferedLocale))
        #set($linkName = $element.getShortTitle($preferedLocale))
        #set($linkUrl = $jetspeed.getAbsoluteUrl($element.url))
        #if($velocityCount > 1)
           | 
        #end
        #if($element.isSelected($site))
          <li><a href="$linkUrl" title="$linkTitle" class="selected">$linkName</a></li>
        #else
          <li><a href="$linkUrl" title="$linkTitle">$linkName</a></li>
        #end
      #end
	#end
	</ul>
#end

#* include service navigation component *#
#macro (includeFooterNavigation $_menu)
    #foreach($element in $_menu.elements.iterator())
      #if($element.elementType == "option")
        #set($linkTitle = $element.getTitle($preferedLocale))
        #set($linkName = $element.getShortTitle($preferedLocale))
        #set($linkUrl = $jetspeed.getAbsoluteUrl($element.url))
        #if($velocityCount > 1)
           | 
        #end
        #if($element.isSelected($site))
          <a href="$linkUrl" title="$linkTitle" class="selected">$linkName</a>
        #else
          <a href="$linkUrl" title="$linkTitle">$linkName</a>
        #end
      #end
    #end
#end

#* include service navigation component *#
#macro (includeServiceNavigation $_menu)
    #foreach($element in $_menu.elements.iterator())
      #if($element.elementType == "option")
        #if($lastType == "page")
          #if($isSelected)
            <li><a href="$linkUrl" class="selected" title="$!linkTitle">${linkName}</a></li>
          #else
            <li><a href="$linkUrl" title="$!linkTitle">${linkName}</a></li>
          #end  
        #end 
        #set($lastType = $element.type)
        #set($linkTitle = $element.getTitle($preferedLocale))
        #set($linkName = $element.getShortTitle($preferedLocale))
        #set($linkUrl = $jetspeed.getAbsoluteUrl($element.url))
        #set($isSelected = $element.isSelected($site))
      #elseif($element.elementType == "separator")
        #set($separatorTitle = $element.getTitle($preferedLocale))
        #set($separatorText = $element.getText($preferedLocale))
        #if ($separatorText == "separator1")
          #if($lastType == "page")
            #if($isSelected)
              <li><a href="$linkUrl" class="selected" title="$!linkTitle">${linkName}</a>&nbsp;&nbsp;|&nbsp;&nbsp;</li>
            #else
              <li><a href="$linkUrl" title="$!linkTitle">${linkName}</a>&nbsp;&nbsp;|&nbsp;&nbsp;</li>
            #end  
          #else
            &nbsp;&nbsp;|&nbsp;&nbsp;
          #end
        #elseif($separatorText == "separator2")
          #if($lastType == "page")
            #if($isSelected)
              <li><a href="$linkUrl" class="selected" title="$!linkTitle">${linkName}</a> - </li>
            #else
              <li><a href="$linkUrl" title="$!linkTitle">${linkName}</a> - </li>
            #end  
          #else
             - 
          #end
        #else
          #if($lastType == "page")
            #if($isSelected)
              <li><a href="$linkUrl" class="selected" title="$!linkTitle">${linkName}</a></li>
            #else
              <li><a href="$linkUrl" title="$!linkTitle">${linkName}</a></li>
            #end  
          #end 
        #end
        #set($lastType = "separator")
      #end
    #end
    #if($lastType == "page")
      #if($isSelected)
        <li><a href="$linkUrl" class="selected" title="$!linkTitle">${linkName}</a></li>
      #else
        <li><a href="$linkUrl" title="$!linkTitle">${linkName}</a></li>
      #end  
    #end 
#end
