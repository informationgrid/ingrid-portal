<?xml version="1.0" encoding="UTF-8"?>
<assembly>
	<id>installer</id>
	<formats>
    <format>jar</format>
	</formats>
	<includeBaseDirectory>false</includeBaseDirectory>
	<fileSets>
		<fileSet>
			<directory>src/main/resources/apache-tomcat-7.0.56</directory>
			<outputDirectory>distribution/apache-tomcat-7.0.56</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>src/main/resources/conf</directory>
			<outputDirectory>distribution/conf</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>src/main/resources/conf/tomcat</directory>
			<outputDirectory>distribution/apache-tomcat-7.0.56/conf/Catalina/localhost</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>src/main/resources/sql</directory>
			<outputDirectory>distribution/sql</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>src/main/resources/ant-installer</directory>
			<outputDirectory>/</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>target/installer</directory>
			<outputDirectory>/</outputDirectory>
		</fileSet>
	</fileSets>
  <dependencySets>
    <dependencySet>
      <outputDirectory>distribution/apache-tomcat-7.0.56/lib</outputDirectory>
      <unpack>false</unpack>
      <scope>runtime</scope>
      <includes>
        <include>log4j:log4j</include>
		<!-- commons-logging-api NEEDED otherwise we have class loader problems in webapps (ehcache...) ! -->
		<!-- local log4j.properties in webapps are taken into account IF log4j.jar AND commons-logging.jar IS ALSO IN WEBAPP !!! -->
        <include>commons-logging:commons-logging-api</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>distribution/apache-tomcat-7.0.56/shared/lib</outputDirectory>
      <unpack>false</unpack>
      <scope>runtime</scope>
      <includes>
        <include>de.ingrid:ingrid-utils</include>
        <include>net.sf.ehcache:ehcache</include>
        <include>net.sf.jsr107cache:jsr107cache</include>
        <include>de.ingrid:ingrid-communication</include>
        <include>de.ingrid:ingrid-communication-authentication</include>
        <include>de.ingrid.mdek:ingrid-mdek-api</include>
        <include>org.apache.portals.jetspeed-2:jetspeed-api</include>
        <include>org.apache.portals.jetspeed-2:jetspeed-commons</include>
        <include>mysql:mysql-connector-java</include>
        <include>ojdbc:ojdbc</include>
        <include>org.apache.portals.pluto:pluto-taglib</include> 
        <include>org.apache.portals.pluto:pluto-container-api</include> 
        <include>javax.ccpp:ccpp</include> 
        <include>org.apache.derby:derby</include> 
        <include>org.apache.portals.bridges:portals-bridges-common</include>
        <include>org.apache.portals:portlet-api_2.0_spec</include>
        <include>xpp3:xpp3_min</include>
        <include>com.thoughtworks.xstream:xstream</include>
        <include>backport-util-concurrent:backport-util-concurrent</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
      <outputDirectory>distribution/apache-tomcat-7.0.56/webapps</outputDirectory>
      <unpack>false</unpack>  
      <scope>runtime</scope>      
      <includes>
        <include>de.ingrid.portal:ingrid-portal-base</include>
        <include>de.ingrid.portal:ingrid-portal-mdek-application</include>
        <include>de.ingrid:ingrid-webmap-client</include>
      </includes>
    </dependencySet>
  </dependencySets>
</assembly>
